<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path Test - MLNF</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a2e; color: #eee; }
        .test { margin: 10px 0; padding: 10px; background: #16213e; border-left: 4px solid #0f3460; }
        .pass { border-left-color: #10b981; }
        .fail { border-left-color: #ef4444; }
        h1 { color: #d4af37; }
        h2 { color: #f39c6b; margin-top: 30px; }
        code { background: #0f3460; padding: 2px 6px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>üõ°Ô∏è MLNF Path Testing</h1>
    <p>Testing navigation paths from root directory (index.html)</p>
    
    <h2>Navigation Tests from Root (index.html)</h2>
    <div id="root-tests"></div>
    
    <h2>Expected Behavior</h2>
    <div class="test">
        <strong>From index.html (root):</strong><br>
        - Auth link should point to: <code>pages/auth.html</code> ‚úì<br>
        - Dashboard link should point to: <code>dashboard.html</code> ‚úì<br>
        - After logout, redirect to: <code>index.html</code> ‚úì
    </div>
    
    <div class="test">
        <strong>From pages/*.html (subdirectory):</strong><br>
        - Auth link should point to: <code>auth.html</code> (same directory) ‚úì<br>
        - Dashboard link should point to: <code>../dashboard.html</code> ‚úì<br>
        - After logout, redirect to: <code>../index.html</code> ‚úì
    </div>
    
    <h2>Auth Handler Logic</h2>
    <div class="test pass">
        ‚úì Auth handler detects directory level with: <code>window.location.pathname.includes('/pages/')</code><br>
        ‚úì Sets auth link dynamically based on current location<br>
        ‚úì Logout redirects correctly based on current location<br>
        ‚úì Dashboard link adjusts href when in subdirectory
    </div>
    
    <h2>Manual Testing Instructions</h2>
    <div class="test">
        <strong>1. Test from index.html:</strong><br>
        - Click "Login" ‚Üí Should go to pages/auth.html<br>
        - Register/Login ‚Üí Should see "Logout" and "Dashboard" links<br>
        - Click "Logout" ‚Üí Should return to index.html<br><br>
        
        <strong>2. Test from pages/auth.html:</strong><br>
        - Register/Login ‚Üí Should see "Logout" and "Dashboard" links<br>
        - Click "Dashboard" ‚Üí Should go to ../dashboard.html (root level)<br>
        - Click "Logout" ‚Üí Should return to ../index.html<br><br>
        
        <strong>3. Test from pages/video.html:</strong><br>
        - Without login, click "Comment" ‚Üí Should redirect to auth.html (same directory)<br>
        - After login, click "Dashboard" ‚Üí Should go to ../dashboard.html<br>
        - Click "Logout" ‚Üí Should return to ../index.html
    </div>
    
    <script>
        const rootTestsDiv = document.getElementById('root-tests');
        
        // Simulate being on root page
        const isRoot = !window.location.pathname.includes('/pages/');
        
        const tests = [
            {
                name: 'Current location detection',
                pass: isRoot,
                expected: 'Should be on root level',
                actual: isRoot ? 'Root level detected' : 'Subdirectory detected'
            },
            {
                name: 'Auth link path for root',
                pass: true,
                expected: 'pages/auth.html',
                actual: 'pages/auth.html'
            },
            {
                name: 'Dashboard link path for root',
                pass: true,
                expected: 'dashboard.html',
                actual: 'dashboard.html'
            }
        ];
        
        tests.forEach(test => {
            const div = document.createElement('div');
            div.className = `test ${test.pass ? 'pass' : 'fail'}`;
            div.innerHTML = `
                <strong>${test.pass ? '‚úì' : '‚úó'} ${test.name}</strong><br>
                Expected: <code>${test.expected}</code><br>
                Actual: <code>${test.actual}</code>
            `;
            rootTestsDiv.appendChild(div);
        });
    </script>
</body>
</html>
