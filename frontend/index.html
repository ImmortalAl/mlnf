<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Much Love, No Fear - Video Sanctuary</title>
    <meta name="description" content="A Viking-inspired video sanctuary for truth seekers and rebels. Share videos, earn Runegold, and join our fearless community.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/assets/images/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/styles.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Plausible Analytics -->
    <script defer data-domain="mlnf.net" src="https://plausible.io/js/script.js"></script>
</head>
<body data-page="home">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo">
                    <img src="/assets/images/logo.png" alt="MLNF Logo">
                    <span>Much Love, No Fear</span>
                </a>
                
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link active">Home</a></li>
                    <li><a href="/pages/archive.html" class="nav-link">Video Vault</a></li>
                    <li><a href="/pages/messageboard.html" class="nav-link">Message Board</a></li>
                    <li><a href="/pages/blog.html" class="nav-link">Blog</a></li>
                    <li><a href="/pages/news.html" class="nav-link">News</a></li>
                    <li><a href="/pages/donations.html" class="nav-link">Donate</a></li>
                </ul>
                
                <div class="nav-actions">
                    <button class="btn btn-icon theme-toggle" aria-label="Toggle theme">
                        <i class="fas fa-moon"></i>
                    </button>
                    
                    <div class="auth-link">
                        <a href="/pages/auth.html" class="btn btn-primary">Login / Register</a>
                    </div>
                    
                    <div class="user-link" style="display: none;">
                        <div class="runegold-display">
                            <svg class="runegold-icon" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                            </svg>
                            <span class="runegold-amount">0</span>
                        </div>
                        
                        <div class="notification-bell">
                            <button class="btn btn-icon" aria-label="Notifications">
                                <i class="fas fa-bell"></i>
                            </button>
                            <span class="notification-count" style="display: none;">0</span>
                            
                            <div class="notification-dropdown">
                                <div class="notification-header">
                                    <h4>Notifications</h4>
                                    <button class="btn btn-sm">Mark all read</button>
                                </div>
                                <div class="notification-list"></div>
                            </div>
                        </div>
                        
                        <a href="/dashboard.html" class="user-avatar-link">
                            <img class="user-avatar" src="/assets/images/default-avatar.png" alt="User avatar">
                        </a>
                    </div>
                    
                    <button class="btn btn-icon mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Welcome to the Video Sanctuary</h1>
                <p class="hero-subtitle">Where Vikings of truth gather to share knowledge, earn Runegold, and build a fearless community</p>
                
                <div class="hero-actions">
                    <a href="/pages/archive.html" class="btn btn-primary btn-lg">
                        <i class="fas fa-play-circle"></i>
                        Explore Videos
                    </a>
                    <a href="/pages/auth.html" class="btn btn-outline btn-lg">
                        <i class="fas fa-user-plus"></i>
                        Join the Community
                    </a>
                </div>
                
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">1,337</span>
                        <span class="stat-label">Vikings</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">420</span>
                        <span class="stat-label">Videos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">69K</span>
                        <span class="stat-label">Runegold Earned</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Videos -->
    <section class="featured-section">
        <div class="container">
            <div class="section-header">
                <h2>Featured Videos</h2>
                <a href="/pages/archive.html" class="btn btn-secondary">View All</a>
            </div>
            
            <div class="video-grid" id="featured-videos">
                <!-- Videos will be loaded dynamically -->
                <div class="text-center p-xxl">
                    <div class="spinner spinner-lg"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="text-center mb-xxl">How It Works</h2>
            
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h3>Join the Community</h3>
                    <p>Create your Viking profile with just a username and password. No email required.</p>
                </div>
                
                <div class="step-card">
                    <div class="step-icon">
                        <i class="fas fa-upload"></i>
                    </div>
                    <h3>Share Your Truth</h3>
                    <p>Upload videos, engage in discussions, and contribute to our knowledge vault.</p>
                </div>
                
                <div class="step-card">
                    <div class="step-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <h3>Earn Runegold</h3>
                    <p>Get rewarded for uploads, comments, and daily logins. Spend on boosts and badges.</p>
                </div>
                
                <div class="step-card">
                    <div class="step-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Rise as a Viking</h3>
                    <p>Build your reputation, gain followers, and become a legendary truth warrior.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Runegold Economy -->
    <section class="runegold-section">
        <div class="container">
            <div class="runegold-intro">
                <h2>The Runegold Economy</h2>
                <p>Our self-sustaining virtual currency that rewards contribution and engagement</p>
            </div>
            
            <div class="economy-grid">
                <div class="economy-card earn">
                    <h3><i class="fas fa-plus-circle"></i> Earn Runegold</h3>
                    <ul>
                        <li>Daily Login: <strong>10 Runegold</strong></li>
                        <li>Upload Video: <strong>50 Runegold</strong></li>
                        <li>Post Comment: <strong>5 Runegold</strong></li>
                        <li>Refer Friend: <strong>100 Runegold</strong></li>
                    </ul>
                </div>
                
                <div class="economy-card spend">
                    <h3><i class="fas fa-shopping-cart"></i> Spend Runegold</h3>
                    <ul>
                        <li>Boost Video: <strong>50 Runegold</strong></li>
                        <li>Highlight Comment: <strong>20 Runegold</strong></li>
                        <li>Custom Badge: <strong>100 Runegold</strong></li>
                        <li>Exclusive Content: <strong>200 Runegold</strong></li>
                    </ul>
                </div>
            </div>
            
            <div class="text-center mt-xl">
                <a href="/pages/auth.html" class="btn btn-gold btn-lg">
                    <i class="fas fa-coins"></i>
                    Start Earning Runegold
                </a>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Join the Revolution?</h2>
                <p>No censorship. No ads. Just truth, community, and Runegold.</p>
                <div class="cta-actions">
                    <a href="/pages/auth.html" class="btn btn-primary btn-lg">Create Account</a>
                    <a href="/pages/donations.html" class="btn btn-outline btn-lg">Support the Cause</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Much Love, No Fear</h4>
                    <p>A Viking-inspired sanctuary for truth seekers and digital rebels.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
                        <a href="#" aria-label="Discord"><i class="fab fa-discord"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/pages/archive.html">Video Vault</a></li>
                        <li><a href="/pages/messageboard.html">Message Board</a></li>
                        <li><a href="/pages/blog.html">Blog</a></li>
                        <li><a href="/pages/merch.html">Merch</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Community</h4>
                    <ul>
                        <li><a href="/pages/profiles.html">Profiles</a></li>
                        <li><a href="/pages/news.html">News</a></li>
                        <li><a href="/pages/donations.html">Donate</a></li>
                        <li><a href="#leaderboard">Leaderboard</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="#contact">Contact</a></li>
                        <li><a href="#terms">Terms</a></li>
                        <li><a href="#privacy">Privacy</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Much Love, No Fear. All rights reserved.</p>
                <p>Made with ❤️ and 🔥 by Vikings</p>
            </div>
        </div>
    </footer>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h3>Online Vikings</h3>
            <button class="sidebar-close">&times;</button>
        </div>
        
        <div class="online-users">
            <div class="online-users-title">
                <span class="online-status"></span>
                <span>Active Now</span>
            </div>
            <div class="online-user-list">
                <!-- Online users will be populated by Socket.io -->
            </div>
        </div>
        
        <div class="sidebar-section">
            <h4>Your Stats</h4>
            <div class="user-stats">
                <div class="stat-row">
                    <span>Videos</span>
                    <span class="stat-value">0</span>
                </div>
                <div class="stat-row">
                    <span>Followers</span>
                    <span class="stat-value">0</span>
                </div>
                <div class="stat-row">
                    <span>Following</span>
                    <span class="stat-value">0</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Breadcrumbs -->
    <div class="breadcrumbs" style="display: none;"></div>

    <!-- Scripts -->
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <script src="/scripts.js"></script>
    
    <!-- Additional styles for homepage -->
    <style>
        .hero {
            background: linear-gradient(135deg, var(--primary-peach) 0%, var(--primary-indigo) 100%);
            color: var(--white);
            padding: var(--spacing-xxl) 0;
            text-align: center;
        }
        
        .hero-title {
            font-size: 3.5rem;
            margin-bottom: var(--spacing-lg);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: var(--spacing-xl);
            opacity: 0.95;
        }
        
        .hero-actions {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: var(--spacing-xxl);
        }
        
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: var(--spacing-xxl);
            flex-wrap: wrap;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            font-family: var(--font-display);
        }
        
        .stat-label {
            font-size: 1.125rem;
            opacity: 0.9;
        }
        
        .featured-section {
            padding: var(--spacing-xxl) 0;
            background-color: var(--gray-100);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-xl);
        }
        
        .how-it-works {
            padding: var(--spacing-xxl) 0;
        }
        
        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-xl);
        }
        
        .step-card {
            text-align: center;
            padding: var(--spacing-xl);
        }
        
        .step-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto var(--spacing-lg);
            background-color: var(--primary-indigo);
            color: var(--white);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        
        .runegold-section {
            padding: var(--spacing-xxl) 0;
            background-color: var(--gray-100);
        }
        
        .runegold-intro {
            text-align: center;
            margin-bottom: var(--spacing-xxl);
        }
        
        .economy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-xl);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .economy-card {
            background-color: var(--white);
            padding: var(--spacing-xl);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
        }
        
        .economy-card h3 {
            margin-bottom: var(--spacing-lg);
        }
        
        .economy-card ul {
            list-style: none;
        }
        
        .economy-card li {
            padding: var(--spacing-sm) 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .economy-card.earn h3 {
            color: var(--success);
        }
        
        .economy-card.spend h3 {
            color: var(--primary-peach);
        }
        
        .cta-section {
            padding: var(--spacing-xxl) 0;
            background: linear-gradient(135deg, var(--dark-navy) 0%, var(--primary-indigo) 100%);
            color: var(--white);
            text-align: center;
        }
        
        .cta-content h2 {
            color: var(--white);
            margin-bottom: var(--spacing-md);
        }
        
        .cta-actions {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
            flex-wrap: wrap;
            margin-top: var(--spacing-xl);
        }
        
        .footer {
            background-color: var(--dark-navy);
            color: var(--white);
            padding: var(--spacing-xxl) 0 var(--spacing-lg);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
        }
        
        .footer-section h4 {
            color: var(--white);
            margin-bottom: var(--spacing-md);
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section li {
            margin-bottom: var(--spacing-sm);
        }
        
        .footer-section a {
            color: var(--gray-300);
            transition: color var(--transition-fast);
        }
        
        .footer-section a:hover {
            color: var(--primary-peach);
        }
        
        .social-links {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }
        
        .social-links a {
            font-size: 1.5rem;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: var(--spacing-xl);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-bottom p {
            margin: var(--spacing-xs) 0;
            color: var(--gray-400);
        }
        
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.25rem;
            }
            
            .stat-number {
                font-size: 2rem;
            }
        }
    </style>
    
    <script>
        // Load featured videos
        async function loadFeaturedVideos() {
            try {
                const response = await fetch(`${API_BASE_URL}/videos?sort=popular&limit=6`);
                const data = await response.json();
                
                const container = document.getElementById('featured-videos');
                
                if (data.videos.length === 0) {
                    container.innerHTML = '<p class="text-center text-muted">No videos yet. Be the first to upload!</p>';
                    return;
                }
                
                container.innerHTML = data.videos.map(video => window.MLNF.createVideoCardHTML ? window.MLNF.createVideoCardHTML(video) : createSimpleVideoCard(video)).join('');
            } catch (error) {
                console.error('Failed to load featured videos:', error);
                document.getElementById('featured-videos').innerHTML = '<p class="text-center text-error">Failed to load videos</p>';
            }
        }
        
        function createSimpleVideoCard(video) {
            return `
                <div class="video-card" onclick="window.location.href='/pages/archive.html#video-${video._id}'">
                    <div class="video-thumbnail">
                        <img src="${video.thumbnail || '/assets/images/default-thumbnail.jpg'}" alt="${video.title}">
                        <span class="video-duration">${formatDuration(video.duration)}</span>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">${video.title}</h3>
                        <div class="video-meta">
                            <span>${video.uploadedBy?.username || 'Anonymous'}</span>
                            <span>${video.views || 0} views</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function formatDuration(seconds) {
            if (!seconds) return '0:00';
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Load videos on page load
        document.addEventListener('DOMContentLoaded', loadFeaturedVideos);
    </script>
</body>
</html>
